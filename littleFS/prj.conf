
# Enable SPI
CONFIG_SPI=y

# Basic SPI configuration
CONFIG_SPI_ASYNC=y

# Enable GPIO
CONFIG_GPIO=y
CONFIG_GPIO_AS_PINRESET=n

# Make sure printk is printing to the UART console
CONFIG_CONSOLE=y

# Disable Zephyr's built-in LittleFS since we're using local LittleFS
CONFIG_FILE_SYSTEM=n
CONFIG_FILE_SYSTEM_MKFS=n
CONFIG_FILE_SYSTEM_LITTLEFS=n

# Disable Zephyr flash subsystem since we're using custom driver
CONFIG_FLASH=n
CONFIG_FLASH_MAP=n
CONFIG_FLASH_PAGE_LAYOUT=n

CONFIG_FPU=y
CONFIG_CBPRINTF_FP_SUPPORT=y

# Enable RTT
CONFIG_USE_SEGGER_RTT=y
CONFIG_RTT_CONSOLE=y
CONFIG_UART_CONSOLE=n

# Enable logging
CONFIG_LOG=y
CONFIG_LOG_BACKEND_RTT=y
CONFIG_LOG_PRINTK=y
CONFIG_LOG_DEFAULT_LEVEL=3

# Reduce debug noise
CONFIG_SPI_LOG_LEVEL_WRN=y

# Larger RTT Buffer to handle all messages
CONFIG_SEGGER_RTT_BUFFER_SIZE_UP=4096

# Enable system initialization

# Memory configuration - Increased for LittleFS
CONFIG_MAIN_STACK_SIZE=8192
CONFIG_HEAP_MEM_POOL_SIZE=32768
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=4096

# Enable time functions for struct tm
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=y

# Allow SPIM driver on nRF52832 despite Product Anomaly 58
CONFIG_SOC_NRF52832_ALLOW_SPIM_DESPITE_PAN_58=y

# Clock configuration - Force 64MHz HFCLK
CONFIG_CLOCK_CONTROL=y
CONFIG_CLOCK_CONTROL_NRF=y
CONFIG_CLOCK_CONTROL_NRF_K32SRC_RC=y
CONFIG_SYS_CLOCK_HW_CYCLES_PER_SEC=64000000

